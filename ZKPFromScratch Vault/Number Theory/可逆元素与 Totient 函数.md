
如果 $y \in \mathbb{Z}_n$ 是可逆的（即 $y^{-1}$ 存在），则称 $y$ 是一个 *unit* （也叫可逆元素）。由 $Z_n$ 中的所有 unit 组成的集合记作 $\mathbb{Z}^*_n$ 或 $\mathbb{Z}^\times_n$ 。

我们已经知道当且仅当 $y,n$ 互质时，$y$ 才是 unit （见 [[模除法]]），所以集合 $\mathbb{Z}^*_n$ 的大小等于 $[1..n-1]$ 中与 $n$ 互质的整数个数。

我们用 $\phi(n)$ 表示 $\mathbb{Z}^*_n$ 中的元素个数。函数 $\phi(n)$ 称为 *欧拉 totient 函数*。 事实上，令 $\phi(1)=1$ 会带来很多便利，这样就可以重新定义 $\phi(n)$ 为 $[1..n]$ 中与 $n$ 互质整数的个数。（除了 $n=1$ 处以外，新定义与原定义的函数值都相同）

**例**：$\phi(6)=2$ 因为在 $[1..6]$ 中，只有 $1$ 和 $5$ 与 $6$ 互质，因此它们是 $\mathbb{Z}_6$ 中仅有的 unit.

令 $p$ 是质数。每个非零元素 $a \in \mathbb{Z}_p$ 都与 $p$ 互质 （即 unit），所以 $\phi(p)=p-1$ 。

那质数的幂呢？如果 $p$ 是质数，则与 $p^k$ 不互质的数就只剩下 $p$ 的倍数了，也就是 $p^k/p=p^{k-1}$ 个。因此 
$$\phi(p^k)=p^k-p^{k-1}$$
现在令 $p,q$ 互质，并令 $x \in \mathbb{Z}_{pq}$ 。令 $a \equiv x \mod p$ 以及 $b \equiv x \mod q$ （即尝试化简为 $x$ 模 $p$ 和 $q$ ），则由 [[中国剩余定理]] ，$x$ 是 unit 当且仅当 $a, b$ 是 unit。因此 $\mathbb{Z}^*_{pq}=\mathbb{Z}^*_p \times \mathbb{Z}^*_q$ 。

> 【译注】由于 $p,q$ 互质，所以可以通过中国剩余定理，可以唯一确定 $x \iff (a,b)$ 之间的关系。如果 $x$ 在 $\mathbb{Z}_{pq}$ 中可逆，则有 $\gcd(x, pq)=1$ 。于是 $\gcd(x,p)=1,\; \gcd(x,q)=1$ ，所以 $a$ 在 $\mathbb{Z}_p$ 中可逆，且 $b$ 在 $\mathbb{Z}_q$ 中可逆。反过来，如果 $a$ 在 $\mathbb{Z}_p$ 中可逆，且 $b$ 在 $\mathbb{Z}_q$ 中可逆，则 $\gcd(x,p)=1,\; \gcd(x,q)=1$ 。于是 $\gcd(x, pq)=1$ ，所以 $x$ 在 $\mathbb{Z}_{pq}$ 中可逆。

检查这些集合的大小就会得到：如果 $p,q$ 互质，则有：$$\phi(pq)=\phi(p)\phi(q)$$ （因此 $\phi$ 是积性函数）

将它以及之前的结论：对于质数 $p$ 有 $\phi(p^k)=p^k - p^{k-1}$ ，我们可知，对于任意整数 $n=p_1^{k_1}...p_m^{k_m}$ （对 $n$ 做质因数分解）有 $$\phi(n)=(p^{k_1}_1-p^{k_1-1}_1)...(p^{k_m}_m-p^{k_m-1}_m)$$上述公式经常被改写成下述形式：$$\phi(n)=n(1-\frac 1 {p_1})...(1-\frac 1 {p_n})$$
